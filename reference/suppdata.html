<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Put a call to this function where you would put a file-path - everything 
is cached by default, so you don't have to worry about multiple downloads 
in the same session."><title>Download supplementary materials from journals — suppdata • suppdata</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download supplementary materials from journals — suppdata"><meta property="og:description" content="Put a call to this function where you would put a file-path - everything 
is cached by default, so you don't have to worry about multiple downloads 
in the same session."><meta property="og:image" content="https://docs.ropensci.org/suppdata/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">suppdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1-9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/suppdata/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Download supplementary materials from journals</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/suppdata/blob/HEAD/R/suppdata.R" class="external-link"><code>R/suppdata.R</code></a></small>
      <div class="d-none name"><code>suppdata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Put a call to this function where you would put a file-path - everything 
is cached by default, so you don't have to worry about multiple downloads 
in the same session.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">suppdata</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">si</span>,</span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"plos"</span>, <span class="st">"wiley"</span>, <span class="st">"science"</span>, <span class="st">"proceedings"</span>, <span class="st">"figshare"</span>,</span>
<span>    <span class="st">"esa_data_archives"</span>, <span class="st">"esa_archives"</span>, <span class="st">"biorxiv"</span>, <span class="st">"epmc"</span>, <span class="st">"peerj"</span>, <span class="st">"copernicus"</span>,</span>
<span>    <span class="st">"jstatsoft"</span><span class="op">)</span>,</span>
<span>  save.name <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  dir <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  cache <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  vol <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  issue <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  list <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  zip <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for character</span></span>
<span><span class="fu">suppdata</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">si</span>,</span>
<span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"plos"</span>, <span class="st">"wiley"</span>, <span class="st">"science"</span>, <span class="st">"proceedings"</span>, <span class="st">"figshare"</span>,</span>
<span>    <span class="st">"esa_data_archives"</span>, <span class="st">"esa_archives"</span>, <span class="st">"biorxiv"</span>, <span class="st">"epmc"</span>, <span class="st">"peerj"</span>, <span class="st">"copernicus"</span>,</span>
<span>    <span class="st">"jstatsoft"</span><span class="op">)</span>,</span>
<span>  save.name <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  dir <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  cache <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  vol <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  issue <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  list <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  timeout <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  zip <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>One of: vector of DOI(s) of article(s) (a
<code>character</code>) or ESA-specific article code.</p></dd>


<dt>si</dt>
<dd><p>number of the supplementary information (SI) to be
downloaded (1, 2, 3, etc.), or (for ESA, Science, and
Copernicus journals) the name of the supplement (e.g.,
"S1_data.csv"). Can be a <code>character</code> or <code>numeric</code>.</p></dd>


<dt>from</dt>
<dd><p>Publisher of article (<code>character</code>). The default
(<code>auto</code>) uses crossref (<code><a href="https://docs.ropensci.org/rcrossref/reference/cr_works.html" class="external-link">cr_works</a></code>)
to detect the journal's publisher. Specifying the journal can
somewhat speed up your download, or be used to force a download
from EPMC (see details). You *must* specify if downloading from
an ESA journal (<code>esa_data_archives</code>,
<code>esa_archives</code>). You can only use this argument if
<code>x</code> is a vector of DOI(s). Must be one of: <code>auto</code>
(i.e., auto-detect journal; default), <code>plos</code>,
<code>wiley</code>, <code>science</code>, <code>proceedings</code>,
<code>figshare</code>, <code>esa_data_archives</code>, <code>esa_archives</code>,
<code>biorxiv</code>, <code>epmc</code>, <code>peerj</code>, <code>copernicus</code>,
(Data)<code>dryad</code>), <code>mdpi</code>, or <code>jstatsoft</code>.</p></dd>


<dt>save.name</dt>
<dd><p>a name for the file to download
(<code>character</code>). If <code>NA</code> (default) this will be a
combination of the DOI and SI number</p></dd>


<dt>dir</dt>
<dd><p>directory to save file to (<code>character</code>). If
<code>NA</code> (default) this will be a temporary directory created
for your files</p></dd>


<dt>cache</dt>
<dd><p>if <code>TRUE</code> (default), the file won't be downloaded
again if it already exists (in a temporary directory creates,
or your chosen <code>dir</code>)</p></dd>


<dt>vol</dt>
<dd><p>Article volume (Proceedings journals only;
<code>numeric</code>)</p></dd>


<dt>issue</dt>
<dd><p>Article issue (Proceedings journals only;
<code>numeric</code>)</p></dd>


<dt>list</dt>
<dd><p>if <code>TRUE</code>, print all files within a zip-file
downloaded from EPMC (default: FALSE). This is *very* useful if
using EPMC (see details)</p></dd>


<dt>timeout</dt>
<dd><p>how long to wait for successful download (default 10
seconds)</p></dd>


<dt>zip</dt>
<dd><p>if <code>TRUE</code>, force download in binary format in order
to ensure that zipped files will work on Windows (default
FALSE).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The examples probably give the best indication of how to
use this function. In general, just specify the DOI of the article
you want to download data from, and the number of the supplement
you want to download (1, 5, etc.). Proceedings, and Science journals
need you to give the filename of the supplement to
download. The file extensions (suffixes) of files are returned as
<code>suffix</code> attributes (see first example), which may be useful
if you don't know the format of the file you're downloading.</p>
<p>For any DOIs not recognised (and if asked) the European PubMed
Central API is used to look up articles. What this database calls a
supplementary file varies by publisher; often they will simply be
figures within articles, but we (obviously) have no way to check
this at run-time. I strongly recommend you run any EPMC calls with
<code>list=TRUE</code> the first time, to see the filenames that EPMC
gives supplements, as these also often vary from what the authors
gave them. This may actually be a 'feature', not a 'bug', if you're
trying to automate some sort of meta-analysis.</p>
<p>Below is a list of all the publishers this supports, and examples
of journals from them.</p>
<dl><dt>auto</dt>
<dd><p>Default. Use a cross-ref search
(<code><a href="https://docs.ropensci.org/rcrossref/reference/cr_works.html" class="external-link">cr_works</a></code>) on the DOI to
determine the publisher.</p></dd>

<dt>plos</dt>
<dd><p>Public Library of Science journals (e.g., PLoS One;)</p></dd>

<dt>wiley</dt>
<dd><p>Wiley journals (e.g., Ecology Letters)</p></dd>

<dt>science</dt>
<dd><p>Science magazine (e.g., Science Advances)</p></dd>

<dt>proceedings</dt>
<dd><p>Royal Society of London journals (e.g.,
Proceedings of the Royal Society of London B). Requires
<code>vol</code> and <code>issue</code> of the article.</p></dd>

<dt>figshare</dt>
<dd><p>Figshare</p></dd>

<dt>biorxiv</dt>
<dd><p>Load from bioRxiv</p></dd>
 
<dt>epmc</dt>
<dd><p>Look up an article on the Europe PubMed Central, and
then download the file using their supplementary materials API.
See comments above in 'notes' about EPMC.</p></dd>

<dt>peerj</dt>
<dd><p>PeerJ journals (e.g., PeerJ Preprints).</p></dd>

<dt>copernicus</dt>
<dd><p>Copernicus Publications journals (e.g., Biogeosciences).
Only one supplemental is supported, which can be a zip archive or a PDF file. 
A numeric <code>si</code> parameter must be <code>1</code> to download the 
whole archive, which is saved using Copernicus naming scheme
(&lt;journalname&gt;-&lt;volume&gt;-&lt;firstpage&gt;-&lt;year&gt;-supplement.zip)
and <code>save.name</code> is ignored, or to download the PDF.
If <code>si</code> matches the name of the supplemental archive (i.e. uses the
Copernicus naming scheme), then the suppdata archive is not unzipped.
<code>si</code> may be the name of a file in that 
archive, so only that file is extracted and saved to <code>save.name</code>.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Make sure that the article from which you're attempting to
    download supplementary materials *has* supplementary
    materials. 404 errors and 'file not found' errors can result
    from such cases.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Will Pearse (<a href="mailto:will.pearse@usu.edu">will.pearse@usu.edu</a>) and Scott
    Chamberlain (<a href="mailto:myrmecocystus@gmail.com">myrmecocystus@gmail.com</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># NOTE: The examples below are flagged as 'dontrun' to avoid</span></span></span>
<span class="r-in"><span><span class="co"># running downloads repeatedly on CRAN servers</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co">#Put the function wherever you would put a file path</span></span></span>
<span class="r-in"><span><span class="va">crabs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu">suppdata</span><span class="op">(</span><span class="st">"10.6084/m9.figshare.979288"</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">epmc.fig</span> <span class="op">&lt;-</span> <span class="fu">suppdata</span><span class="op">(</span><span class="st">"10.1371/journal.pone.0126524"</span>,</span></span>
<span class="r-in"><span>                       <span class="st">"pone.0126524.s002.jpg"</span>, <span class="st">"epmc"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#...note this 'SI' is not actually an SI, but rather an image from the paper.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#View the suffix (file extension) of downloaded files</span></span></span>
<span class="r-in"><span><span class="co"># - note that not all files are uploaded/stored with useful file extensions!</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">epmc.fig</span>, <span class="st">"suffix"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">copernicus.csv</span> <span class="op">&lt;-</span> <span class="fu">suppdata</span><span class="op">(</span><span class="st">"10.5194/bg-14-1739-2017"</span>,</span></span>
<span class="r-in"><span>                           <span class="st">"Table S1 v2 UFK FOR_PUBLICATION.csv"</span>,</span></span>
<span class="r-in"><span>                           save.name <span class="op">=</span> <span class="st">"data.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#...note this 'SI' is not an SI but the name of a file in the supplementary information archive.</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># (examples not run on CRAN to avoid downloading files repeatedly)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

